<details>
    <summary>
        <span>ðŸ›’ Annual Spending</span>
        <span class="chev">â–¶</span>
    </summary>
    <div class="content">
        <div class="grid-3">
            <div>
                <label for="spendingToday">Retirement spending (today's $ / yr)
                    <span class="help-icon-placeholder" data-field="spendingToday"></span>
                </label>
                <input id="spendingToday" type="number" step="1000" value="80000" />
                <div class="hint">We'll inflate this to retirement, then apply COLA annually.</div>
            </div>
            <div>
                <label for="inflation">Inflation Rate (%)
                    <span class="help-icon-placeholder" data-field="inflation"></span>
                </label>
                <input id="inflation" type="number" step="0.1" value="2.5" min="0" />
            </div>
            <div>
                <label for="spendingDecline">Annual spending decline in retirement (%)
                    <span class="help-icon-placeholder" data-field="spendingDecline"></span>
                </label>
                <input id="spendingDecline" type="number" step="0.1" value="0" />
                <div class="hint">Spending reduction each year (e.g., 2% = spending drops to 98%, then 96%, etc.)</div>
            </div>
        </div>
        <div>
            <label for="ssCola">Social Security COLA (%/yr)
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="1em" height="1em" fill="white"
                    class="help-icon" onclick="showHelpToast(event, 'ssCola')" style="vertical-align: middle;">
                    <circle cx="12" cy="12" r="10" stroke="white" stroke-width="2" fill="none" />
                    <path d="M9.5 9a2.5 2.5 0 0 1 5 0c0 1.5-2.5 2-2.5 3.5v1" stroke="white" stroke-width="2" fill="none"
                        stroke-linecap="round" />
                    <circle cx="12" cy="17" r="1" fill="white" />
                </svg>
            </label>
            <input id="ssCola" type="number" step="0.1" value="2.0" />
        </div>
        <div class="hint">
            <div style="margin-bottom: 8px;">
                Override calculated annual income for specific retirement years.
                Leave fields blank to use automatic annual income calculations based on COLA and spending decline.
            </div>
            <div style="display: flex; align-items: center; gap: 5px;">
                <input type="checkbox" id="useCurrentYearValues" style="width: auto;" />
                <label for="useCurrentYearValues">
                    Use current year values (will be adjusted for inflation for target year)
                </label>
            </div>
        </div>

        <div id="spendingDetailsGrid" class="grid-3">
            <!-- Spending override fields will be dynamically generated here -->
        </div>
    </div>
</details>